// Updated grading logic for reports.html
document.addEventListener('input', e => {
    if(e.target.classList.contains('score-in')) {
        const row = e.target.closest('tr');
        const t1 = parseFloat(row.querySelector('.t1').value) || 0;
        const mid = parseFloat(row.querySelector('.mid').value) || 0;
        const t2 = parseFloat(row.querySelector('.t2').value) || 0;
        const ex = parseFloat(row.querySelector('.ex').value) || 0;

        const avg = ((t1 + mid + t2 + ex) / 4).toFixed(1);
        row.querySelector('.avg').innerText = avg;

        let g = "F"; 
        if(avg >= 75) g = "A"; 
        else if(avg >= 65) g = "B"; 
        else if(avg >= 45) g = "C"; 
        else if(avg >= 30) g = "D";
        row.querySelector('.grade').innerText = g;
    }
});
